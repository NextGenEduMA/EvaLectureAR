#!/usr/bin/env python3
"""
Script to populate the database with sample Arabic texts for testing
"""

from app import app, db
from models.database import Text
from datetime import datetime

def create_sample_texts():
    """Create sample Arabic texts for different grade levels and difficulties"""

    sample_texts = [
        {
            'title': 'Ø§Ù„Ø¨ÙŠØª Ø§Ù„Ø¬Ù…ÙŠÙ„',
            'content': 'Ù‡ÙØ°ÙØ§ Ø¨ÙÙŠÙ’ØªÙŒ Ø¬ÙÙ…ÙÙŠÙ„ÙŒ. ÙÙÙŠ Ø§Ù„Ù’Ø¨ÙÙŠÙ’ØªÙ Ø£ÙØ³Ù’Ø±ÙØ©ÙŒ Ø³ÙØ¹ÙÙŠØ¯ÙØ©ÙŒ. Ø§Ù„Ù’Ø£ÙØ¨Ù ÙŠÙØ¹Ù’Ù…ÙÙ„Ù ÙÙÙŠ Ø§Ù„Ù’Ù…ÙÙƒÙ’ØªÙØ¨Ù. Ø§Ù„Ù’Ø£ÙÙ…ÙÙ‘ ØªÙØ·Ù’Ø¨ÙØ®Ù Ø§Ù„Ø·ÙÙ‘Ø¹ÙØ§Ù…Ù. Ø§Ù„Ù’Ø£ÙØ·Ù’ÙÙØ§Ù„Ù ÙŠÙÙ„Ù’Ø¹ÙØ¨ÙÙˆÙ†Ù ÙÙÙŠ Ø§Ù„Ù’Ø­ÙØ¯ÙÙŠÙ‚ÙØ©Ù.',
            'grade_level': 1,
            'difficulty_level': 'easy',
            'category': 'Ù‚ØµØµ'
        },
        {
            'title': 'Ø§Ù„Ù…Ø¯Ø±Ø³Ø©',
            'content': 'ÙŠÙØ­ÙØ¨ÙÙ‘ Ø£ÙØ­Ù’Ù…ÙØ¯Ù Ø§Ù„Ø°ÙÙ‘Ù‡ÙØ§Ø¨Ù Ø¥ÙÙ„ÙÙ‰ Ø§Ù„Ù’Ù…ÙØ¯Ù’Ø±ÙØ³ÙØ©Ù. ÙŠÙÙ„Ù’Ø¹ÙØ¨Ù Ù…ÙØ¹Ù Ø£ÙØµÙ’Ø¯ÙÙ‚ÙØ§Ø¦ÙÙ‡Ù ÙÙÙŠ Ø§Ù„Ù’ÙÙØ³Ù’Ø­ÙØ©Ù ÙˆÙÙŠÙØ¯Ù’Ø±ÙØ³Ù Ø¨ÙØ¬ÙØ¯ÙÙ‘ ÙÙÙŠ Ø§Ù„Ù’ÙÙØµÙ’Ù„Ù. Ù…ÙØ¹ÙÙ„ÙÙ‘Ù…ÙÙ‡Ù ÙŠÙØ­ÙØ¨ÙÙ‘Ù‡Ù ÙƒÙØ«ÙÙŠØ±Ù‹Ø§ Ù„ÙØ£ÙÙ†ÙÙ‘Ù‡Ù Ø·ÙØ§Ù„ÙØ¨ÙŒ Ù…ÙØ¬Ù’ØªÙÙ‡ÙØ¯ÙŒ.',
            'grade_level': 2,
            'difficulty_level': 'easy',
            'category': 'ØªØ¹Ù„ÙŠÙ…ÙŠØ©'
        },
        {
            'title': 'ÙØµÙ„ Ø§Ù„Ø±Ø¨ÙŠØ¹',
            'content': 'ÙÙÙŠ ÙÙØµÙ’Ù„Ù Ø§Ù„Ø±ÙÙ‘Ø¨ÙÙŠØ¹Ù ØªÙØªÙÙÙØªÙÙ‘Ø­Ù Ø§Ù„Ù’Ø£ÙØ²Ù’Ù‡ÙØ§Ø±Ù ÙˆÙØªÙØ®Ù’Ø¶ÙØ±ÙÙ‘ Ø§Ù„Ù’Ø£ÙØ´Ù’Ø¬ÙØ§Ø±Ù. Ø§Ù„Ø·ÙÙ‘Ù‚Ù’Ø³Ù ÙŠÙØµÙ’Ø¨ÙØ­Ù Ù…ÙØ¹Ù’ØªÙØ¯ÙÙ„Ù‹Ø§ ÙˆÙØ§Ù„Ù†ÙÙ‘Ø§Ø³Ù ÙŠÙØ®Ù’Ø±ÙØ¬ÙÙˆÙ†Ù Ù„ÙÙ„ØªÙÙ‘Ù†ÙØ²ÙÙ‘Ù‡Ù ÙÙÙŠ Ø§Ù„Ù’Ø­ÙØ¯ÙØ§Ø¦ÙÙ‚Ù. Ø§Ù„Ø·ÙÙ‘ÙŠÙÙˆØ±Ù ØªÙØºÙØ±ÙÙ‘Ø¯Ù Ø¨ÙØ£ÙÙ„Ù’Ø­ÙØ§Ù†Ù Ø¬ÙÙ…ÙÙŠÙ„ÙØ©Ù.',
            'grade_level': 2,
            'difficulty_level': 'medium',
            'category': 'Ø·Ø¨ÙŠØ¹Ø©'
        },
        {
            'title': 'Ø£Ù‡Ù…ÙŠØ© Ø§Ù„Ù…Ø§Ø¡',
            'content': 'Ø§Ù„Ù’Ù…ÙØ§Ø¡Ù Ù…ÙÙ‡ÙÙ…ÙŒÙ‘ Ù„ÙÙ„Ù’Ø­ÙÙŠÙØ§Ø©Ù Ø¹ÙÙ„ÙÙ‰ Ø§Ù„Ù’Ø£ÙØ±Ù’Ø¶Ù. Ù†ÙØ´Ù’Ø±ÙØ¨Ù Ø§Ù„Ù’Ù…ÙØ§Ø¡Ù ÙƒÙÙ„ÙÙ‘ ÙŠÙÙˆÙ’Ù…Ù ÙˆÙÙ†ÙØ³Ù’ØªÙØ®Ù’Ø¯ÙÙ…ÙÙ‡Ù ÙÙÙŠ Ø§Ù„Ø·ÙÙ‘Ø¨Ù’Ø®Ù ÙˆÙØ§Ù„ØªÙÙ‘Ù†Ù’Ø¸ÙÙŠÙÙ. Ø§Ù„Ù†ÙÙ‘Ø¨ÙØ§ØªÙØ§ØªÙ ØªÙØ­Ù’ØªÙØ§Ø¬Ù Ø¥ÙÙ„ÙÙ‰ Ø§Ù„Ù’Ù…ÙØ§Ø¡Ù Ù„ÙØªÙÙ†Ù’Ù…ÙÙˆÙ. ÙŠÙØ¬ÙØ¨Ù Ø£ÙÙ†Ù’ Ù†ÙØ­ÙØ§ÙÙØ¸Ù Ø¹ÙÙ„ÙÙ‰ Ø§Ù„Ù’Ù…ÙØ§Ø¡Ù ÙˆÙÙ„ÙØ§ Ù†ÙØ¨ÙØ°ÙÙ‘Ø±ÙÙ‡Ù.',
            'grade_level': 3,
            'difficulty_level': 'easy',
            'category': 'Ø¹Ù„ÙˆÙ…'
        },
        {
            'title': 'Ø§Ù„ØµØ¯Ø§Ù‚Ø©',
            'content': 'Ø§Ù„ØµÙÙ‘Ø¯ÙØ§Ù‚ÙØ©Ù ÙƒÙÙ†Ù’Ø²ÙŒ Ø«ÙÙ…ÙÙŠÙ†ÙŒ Ù„ÙØ§ ÙŠÙÙ‚ÙØ¯ÙÙ‘Ø±Ù Ø¨ÙØ«ÙÙ…ÙÙ†Ù. Ø§Ù„ØµÙÙ‘Ø¯ÙÙŠÙ‚Ù Ø§Ù„Ù’ÙˆÙÙÙÙŠÙÙ‘ ÙŠÙÙ‚ÙÙÙ Ø¨ÙØ¬ÙØ§Ù†ÙØ¨ÙÙƒÙ ÙÙÙŠ Ø§Ù„Ø³ÙÙ‘Ø±ÙÙ‘Ø§Ø¡Ù ÙˆÙØ§Ù„Ø¶ÙÙ‘Ø±ÙÙ‘Ø§Ø¡Ù ÙˆÙÙŠÙØ³ÙØ§Ø¹ÙØ¯ÙÙƒÙ ÙÙÙŠ Ø§Ù„Ù’Ù…ÙÙ„ÙÙ…ÙÙ‘Ø§ØªÙ. ÙŠÙØ¬ÙØ¨Ù Ø£ÙÙ†Ù’ Ù†ÙØ®Ù’ØªÙØ§Ø±Ù Ø£ÙØµÙ’Ø¯ÙÙ‚ÙØ§Ø¡ÙÙ†ÙØ§ Ø¨ÙØ¹ÙÙ†ÙØ§ÙŠÙØ©Ù ÙˆÙÙ†ÙÙƒÙÙˆÙ†Ù Ø£ÙÙˆÙ’ÙÙÙŠÙØ§Ø¡Ù Ù„ÙÙ‡ÙÙ…Ù’.',
            'grade_level': 3,
            'difficulty_level': 'medium',
            'category': 'Ù‚ÙŠÙ…'
        },
        {
            'title': 'Ø§Ù„Ù‚Ø±Ø§Ø¡Ø© ØºØ°Ø§Ø¡ Ø§Ù„Ø¹Ù‚Ù„',
            'content': 'Ø§Ù„Ù’Ù‚ÙØ±ÙØ§Ø¡ÙØ©Ù ØºÙØ°ÙØ§Ø¡Ù Ø§Ù„Ù’Ø¹ÙÙ‚Ù’Ù„Ù ÙˆÙØ§Ù„Ø±ÙÙ‘ÙˆØ­Ù. ØªÙÙˆÙØ³ÙÙ‘Ø¹Ù Ø¢ÙÙØ§Ù‚ÙÙ†ÙØ§ ÙˆÙØªÙÙ†ÙÙ…ÙÙ‘ÙŠ Ù…ÙØ¹Ù’Ø±ÙÙÙØªÙÙ†ÙØ§ ÙˆÙØªÙØ·ÙÙˆÙÙ‘Ø±Ù Ù‚ÙØ¯Ù’Ø±ÙØ§ØªÙÙ†ÙØ§ Ø§Ù„Ù„ÙÙ‘ØºÙÙˆÙÙŠÙÙ‘Ø©Ù. Ù…ÙÙ†Ù’ ÙŠÙÙ‚Ù’Ø±ÙØ£Ù ÙƒÙØ«ÙÙŠØ±Ù‹Ø§ ÙŠÙÙƒÙ’ØªÙØ³ÙØ¨Ù Ø«ÙÙ‚ÙØ§ÙÙØ©Ù‹ ÙˆÙØ§Ø³ÙØ¹ÙØ©Ù‹ ÙˆÙÙŠÙØµÙ’Ø¨ÙØ­Ù Ø£ÙÙƒÙ’Ø«ÙØ±Ù Ø­ÙÙƒÙ’Ù…ÙØ©Ù‹ ÙˆÙÙÙÙ‡Ù’Ù…Ù‹Ø§ Ù„ÙÙ„Ù’Ø¹ÙØ§Ù„ÙÙ…Ù Ù…ÙÙ†Ù’ Ø­ÙÙˆÙ’Ù„ÙÙ‡Ù.',
            'grade_level': 4,
            'difficulty_level': 'medium',
            'category': 'ØªØ¹Ù„ÙŠÙ…ÙŠØ©'
        },
        {
            'title': 'Ø§Ù„Ø¹Ù„Ù… Ù†ÙˆØ±',
            'content': 'Ø§Ù„Ù’Ø¹ÙÙ„Ù’Ù…Ù Ù†ÙÙˆØ±ÙŒ ÙŠÙØ¶ÙÙŠØ¡Ù Ø·ÙØ±ÙÙŠÙ‚Ù Ø§Ù„Ù’Ø­ÙÙŠÙØ§Ø©Ù ÙˆÙÙŠÙØ±Ù’Ø´ÙØ¯ÙÙ†ÙØ§ Ø¥ÙÙ„ÙÙ‰ Ø§Ù„ØµÙÙ‘ÙˆÙØ§Ø¨Ù. Ù…ÙÙ†Ù’ Ø·ÙÙ„ÙØ¨Ù Ø§Ù„Ù’Ø¹ÙÙ„Ù’Ù…Ù Ù…ÙÙ†Ù Ø§Ù„Ù’Ù…ÙÙ‡Ù’Ø¯Ù Ø¥ÙÙ„ÙÙ‰ Ø§Ù„Ù„ÙÙ‘Ø­Ù’Ø¯Ù ÙˆÙØ¬ÙØ¯Ù Ø§Ù„Ø³ÙÙ‘Ø¹ÙØ§Ø¯ÙØ©Ù ÙˆÙØ§Ù„Ù†ÙÙ‘Ø¬ÙØ§Ø­Ù ÙÙÙŠ Ø¯ÙÙ†Ù’ÙŠÙØ§Ù‡Ù ÙˆÙØ¢Ø®ÙØ±ÙØªÙÙ‡Ù. Ø§Ù„Ù’Ø¹ÙÙ„Ù’Ù…Ù ÙŠÙØ±Ù’ÙÙØ¹Ù Ù…ÙÙ‚ÙØ§Ù…Ù Ø§Ù„Ù’Ø¥ÙÙ†Ù’Ø³ÙØ§Ù†Ù ÙˆÙÙŠÙØ¬Ù’Ø¹ÙÙ„ÙÙ‡Ù Ù‚ÙØ§Ø¯ÙØ±Ù‹Ø§ Ø¹ÙÙ„ÙÙ‰ Ø®ÙØ¯Ù’Ù…ÙØ©Ù ÙˆÙØ·ÙÙ†ÙÙ‡Ù ÙˆÙØ£ÙÙ…ÙÙ‘ØªÙÙ‡Ù.',
            'grade_level': 5,
            'difficulty_level': 'hard',
            'category': 'Ø­ÙƒÙ…Ø©'
        },
        {
            'title': 'Ø­Ø¨ Ø§Ù„ÙˆØ·Ù†',
            'content': 'Ø­ÙØ¨ÙÙ‘ Ø§Ù„Ù’ÙˆÙØ·ÙÙ†Ù Ù…ÙÙ†Ù Ø§Ù„Ù’Ø¥ÙÙŠÙ…ÙØ§Ù†Ù. Ø§Ù„Ù’ÙˆÙØ·ÙÙ†Ù Ù‡ÙÙˆÙ Ø§Ù„Ù’Ø£ÙØ±Ù’Ø¶Ù Ø§Ù„ÙÙ‘ØªÙÙŠ ÙˆÙÙ„ÙØ¯Ù’Ù†ÙØ§ Ø¹ÙÙ„ÙÙŠÙ’Ù‡ÙØ§ ÙˆÙÙ†ÙØ´ÙØ£Ù’Ù†ÙØ§ ÙÙÙŠ Ø£ÙØ­Ù’Ø¶ÙØ§Ù†ÙÙ‡ÙØ§. ÙŠÙØ¬ÙØ¨Ù Ø¹ÙÙ„ÙÙŠÙ’Ù†ÙØ§ Ø£ÙÙ†Ù’ Ù†ÙØ­ÙØ¨ÙÙ‘ ÙˆÙØ·ÙÙ†ÙÙ†ÙØ§ ÙˆÙÙ†ÙØ­ÙØ§ÙÙØ¸Ù Ø¹ÙÙ„ÙÙŠÙ’Ù‡Ù ÙˆÙÙ†ÙØ¹Ù’Ù…ÙÙ„Ù Ù…ÙÙ†Ù’ Ø£ÙØ¬Ù’Ù„Ù ØªÙÙ‚ÙØ¯ÙÙ‘Ù…ÙÙ‡Ù ÙˆÙØ§Ø²Ù’Ø¯ÙÙ‡ÙØ§Ø±ÙÙ‡Ù. Ø§Ù„Ù’ÙˆÙØ·ÙÙ†Ù ÙŠÙØ­Ù’ØªÙØ§Ø¬Ù Ø¥ÙÙ„ÙÙ‰ Ø£ÙØ¨Ù’Ù†ÙØ§Ø¦ÙÙ‡Ù Ø§Ù„Ù’Ù…ÙØ®Ù’Ù„ÙØµÙÙŠÙ†Ù Ø§Ù„ÙÙ‘Ø°ÙÙŠÙ†Ù ÙŠÙØ¹Ù’Ù…ÙÙ„ÙÙˆÙ†Ù Ø¨ÙØ¬ÙØ¯ÙÙ‘ ÙˆÙØ¥ÙØ®Ù’Ù„ÙØ§ØµÙ.',
            'grade_level': 6,
            'difficulty_level': 'hard',
            'category': 'ÙˆØ·Ù†ÙŠØ©'
        }
    ]

    with app.app_context():
        try:
            # Check if texts already exist
            existing_count = Text.query.count()
            if existing_count > 0:
                print(f"ğŸ“š Found {existing_count} existing texts in database")
                return True

            # Create sample texts
            for text_data in sample_texts:
                text = Text(
                    title=text_data['title'],
                    content=text_data['content'],
                    content_with_diacritics=text_data['content'],  # Same content with diacritics
                    grade_level=text_data['grade_level'],
                    difficulty_level=text_data['difficulty_level'],
                    category=text_data['category'],
                    word_count=len(text_data['content'].split()),
                    created_at=datetime.utcnow()
                )

                db.session.add(text)

            db.session.commit()

            print(f"âœ… Successfully created {len(sample_texts)} sample texts!")

            # Print summary
            for level in [1, 2, 3, 4, 5, 6]:
                count = Text.query.filter_by(grade_level=level).count()
                print(f"ğŸ“– Grade {level}: {count} texts")

            return True

        except Exception as e:
            db.session.rollback()
            print(f"âŒ Error creating sample texts: {e}")
            return False

if __name__ == "__main__":
    print("ğŸ“ Creating sample Arabic texts...")
    success = create_sample_texts()
    if success:
        print("ğŸ‰ Sample texts creation completed!")
    else:
        print("ğŸ’¥ Sample texts creation failed!")
